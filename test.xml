<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_2.dtd'>
<nta>
	<declaration>broadcast chan up;
clock time;</declaration>
	<template>
		<name x="5" y="5">Network</name>
		<declaration>clock c1, c0;</declaration>
		<location id="id0" x="-340" y="-646">
			<name x="-365" y="-697">OffOff</name>
		</location>
		<location id="id1" x="-136" y="-408">
			<name x="-110" y="-425">OnOff</name>
			<label kind="invariant" x="-110" y="-410">c0&lt;=1</label>
		</location>
		<location id="id2" x="-544" y="-408">
			<name x="-612" y="-416">OffOn</name>
			<label kind="invariant" x="-612" y="-401">c1&lt;=1</label>
		</location>
		<location id="id3" x="-340" y="-170">
			<name x="-323" y="-178">OnOn</name>
			<label kind="invariant" x="-493" y="-178">c0&lt;=1 &amp;&amp; c1&lt;=1</label>
		</location>
		<location id="id4" x="-340" y="-68">
			<name x="-323" y="-76">Bad</name>
		</location>
		<init ref="id0"/>
		<transition>
			<source ref="id3"/>
			<target ref="id1"/>
			<label kind="guard" x="-306" y="-365">c1==1</label>
			<nail x="-272" y="-340"/>
		</transition>
		<transition controllable="false">
			<source ref="id2"/>
			<target ref="id3"/>
			<label kind="guard" x="-561" y="-314">true</label>
			<label kind="synchronisation" x="-561" y="-299">up?</label>
			<label kind="assignment" x="-561" y="-284">c0=0</label>
			<nail x="-510" y="-272"/>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id2"/>
			<label kind="guard" x="-425" y="-365">c0==1</label>
			<nail x="-408" y="-340"/>
		</transition>
		<transition controllable="false">
			<source ref="id4"/>
			<target ref="id4"/>
			<label kind="guard" x="-348" y="34">true</label>
			<label kind="synchronisation" x="-348" y="49">up?</label>
			<nail x="-374" y="34"/>
			<nail x="-306" y="34"/>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id0"/>
			<label kind="guard" x="-289" y="-484">c0==1</label>
			<nail x="-272" y="-510"/>
		</transition>
		<transition controllable="false">
			<source ref="id3"/>
			<target ref="id4"/>
			<label kind="guard" x="-391" y="-136">true</label>
			<label kind="synchronisation" x="-391" y="-121">up?</label>
		</transition>
		<transition controllable="false">
			<source ref="id0"/>
			<target ref="id2"/>
			<label kind="guard" x="-544" y="-582">true</label>
			<label kind="synchronisation" x="-544" y="-567">up?</label>
			<label kind="assignment" x="-544" y="-552">c1=0</label>
			<nail x="-476" y="-578"/>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id0"/>
			<label kind="guard" x="-450" y="-484">c1==1</label>
			<nail x="-408" y="-510"/>
		</transition>
		<transition controllable="false">
			<source ref="id0"/>
			<target ref="id1"/>
			<label kind="guard" x="-170" y="-584">true</label>
			<label kind="synchronisation" x="-170" y="-569">up?</label>
			<label kind="assignment" x="-170" y="-554">c0=0</label>
			<nail x="-204" y="-578"/>
		</transition>
		<transition controllable="false">
			<source ref="id1"/>
			<target ref="id3"/>
			<label kind="guard" x="-153" y="-314">true</label>
			<label kind="synchronisation" x="-153" y="-299">up?</label>
			<label kind="assignment" x="-153" y="-284">c1=0</label>
			<nail x="-170" y="-272"/>
		</transition>
	</template>
	<template>
		<name x="5" y="5">ControlLoop</name>
		<declaration>hybrid clock c;
int s;</declaration>
		<location id="id5" x="-237" y="-1752">
			<name x="-237" y="-1737">R1</name>
			<urgent/>
		</location>
		<location id="id6" x="-306" y="-444">
			<name x="-306" y="-429">R3</name>
			<urgent/>
		</location>
		<location id="id7" x="-255" y="-1098">
			<name x="-255" y="-1083">R2</name>
			<urgent/>
		</location>
		<location id="id8" x="-315" y="-1532">
			<name x="-315" y="-1517">R1_s0</name>
			<label kind="invariant" x="-315" y="-1502">c&lt;=4</label>
		</location>
		<location id="id9" x="-201" y="-224">
			<name x="-201" y="-209">R3_s0</name>
			<label kind="invariant" x="-201" y="-194">c&lt;=4</label>
		</location>
		<location id="id10" x="-225" y="-878">
			<name x="-225" y="-863">R2_s0</name>
			<label kind="invariant" x="-225" y="-848">c&lt;=4</label>
		</location>
		<location id="id11" x="-220" y="-1316">
			<name x="-220" y="-1301">EarR1</name>
			<urgent/>
		</location>
		<location id="id12" x="-361" y="-27">
			<name x="-361" y="-12">EarR3</name>
			<urgent/>
		</location>
		<location id="id13" x="-426" y="-662">
			<name x="-426" y="-647">EarR2</name>
			<urgent/>
		</location>
		<init ref="id5"/>
		<transition>
			<source ref="id6"/>
			<target ref="id9"/>
			<label kind="guard" x="-316" y="-328">true</label>
			<label kind="assignment" x="-316" y="-298">s=0</label>
		</transition>
		<transition controllable="false">
			<source ref="id11"/>
			<target ref="id7"/>
			<label kind="guard" x="-266" y="-1182">s==0</label>
			<label kind="synchronisation" x="-266" y="-1167">up!</label>
			<label kind="assignment" x="-266" y="-1152">c=0</label>
		</transition>
		<transition controllable="false">
			<source ref="id10"/>
			<target ref="id6"/>
			<label kind="guard" x="-305" y="-647">c&gt;=1 &amp;&amp; c&lt;=4</label>
			<label kind="synchronisation" x="-305" y="-632">up!</label>
			<label kind="assignment" x="-305" y="-617">c=0</label>
		</transition>
		<transition controllable="false">
			<source ref="id8"/>
			<target ref="id7"/>
			<label kind="guard" x="-392" y="-1301">c&gt;=1 &amp;&amp; c&lt;=4</label>
			<label kind="synchronisation" x="-392" y="-1286">up!</label>
			<label kind="assignment" x="-392" y="-1271">c=0</label>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id13"/>
			<label kind="guard" x="-373" y="-755">true</label>
		</transition>
		<transition controllable="false">
			<source ref="id13"/>
			<target ref="id6"/>
			<label kind="guard" x="-410" y="-528">s==0</label>
			<label kind="synchronisation" x="-410" y="-513">up!</label>
			<label kind="assignment" x="-410" y="-498">c=0</label>
		</transition>
		<transition controllable="false">
			<source ref="id10"/>
			<target ref="id5"/>
			<label kind="guard" x="-66" y="-1301">c&gt;=1 &amp;&amp; c&lt;=4</label>
			<label kind="synchronisation" x="-66" y="-1286">up!</label>
			<label kind="assignment" x="-66" y="-1271">c=0</label>
			<nail x="0" y="-1640"/>
		</transition>
		<transition controllable="false">
			<source ref="id13"/>
			<target ref="id5"/>
			<label kind="guard" x="-593" y="-1182">s==0</label>
			<label kind="synchronisation" x="-593" y="-1167">up!</label>
			<label kind="assignment" x="-593" y="-1152">c=0</label>
			<nail x="-565" y="-1669"/>
		</transition>
		<transition controllable="false">
			<source ref="id8"/>
			<target ref="id5"/>
			<label kind="guard" x="-299" y="-1636">c&gt;=1 &amp;&amp; c&lt;=4</label>
			<label kind="synchronisation" x="-299" y="-1621">up!</label>
			<label kind="assignment" x="-299" y="-1606">c=0</label>
		</transition>
		<transition controllable="false">
			<source ref="id10"/>
			<target ref="id7"/>
			<label kind="guard" x="-312" y="-982">c&gt;=1 &amp;&amp; c&lt;=4</label>
			<label kind="synchronisation" x="-312" y="-967">up!</label>
			<label kind="assignment" x="-312" y="-952">c=0</label>
		</transition>
		<transition>
			<source ref="id7"/>
			<target ref="id10"/>
			<label kind="guard" x="-205" y="-982">true</label>
			<label kind="assignment" x="-205" y="-952">s=0</label>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id8"/>
			<label kind="guard" x="-402" y="-1636">true</label>
			<label kind="assignment" x="-402" y="-1606">s=0</label>
			<nail x="-395" y="-1663"/>
		</transition>
		<transition controllable="false">
			<source ref="id9"/>
			<target ref="id6"/>
			<label kind="guard" x="-200" y="-328">c&gt;=1 &amp;&amp; c&lt;=3</label>
			<label kind="synchronisation" x="-200" y="-313">up!</label>
			<label kind="assignment" x="-200" y="-298">c=0</label>
			<nail x="-109" y="-356"/>
		</transition>
		<transition controllable="false">
			<source ref="id13"/>
			<target ref="id7"/>
			<label kind="guard" x="-452" y="-863">s==0</label>
			<label kind="synchronisation" x="-452" y="-848">up!</label>
			<label kind="assignment" x="-452" y="-833">c=0</label>
		</transition>
		<transition>
			<source ref="id8"/>
			<target ref="id11"/>
			<label kind="guard" x="-277" y="-1409">true</label>
		</transition>
		<transition>
			<source ref="id9"/>
			<target ref="id12"/>
			<label kind="guard" x="-324" y="-101">true</label>
		</transition>
		<transition controllable="false">
			<source ref="id11"/>
			<target ref="id5"/>
			<label kind="guard" x="-225" y="-1517">s==0</label>
			<label kind="synchronisation" x="-225" y="-1502">up!</label>
			<label kind="assignment" x="-225" y="-1487">c=0</label>
		</transition>
		<transition controllable="false">
			<source ref="id9"/>
			<target ref="id7"/>
			<label kind="guard" x="-104" y="-647">c&gt;=1 &amp;&amp; c&lt;=4</label>
			<label kind="synchronisation" x="-104" y="-632">up!</label>
			<label kind="assignment" x="-104" y="-617">c=0</label>
			<nail x="-37" y="-981"/>
		</transition>
		<transition controllable="false">
			<source ref="id12"/>
			<target ref="id7"/>
			<label kind="guard" x="-536" y="-528">s==0</label>
			<label kind="synchronisation" x="-536" y="-513">up!</label>
			<label kind="assignment" x="-536" y="-498">c=0</label>
			<nail x="-384" y="-1073"/>
		</transition>
		<transition controllable="false">
			<source ref="id12"/>
			<target ref="id6"/>
			<label kind="guard" x="-395" y="-209">s==0</label>
			<label kind="synchronisation" x="-395" y="-194">up!</label>
			<label kind="assignment" x="-395" y="-179">c=0</label>
		</transition>
	</template>
	<system>Network0 = Network();
ControlLoop1 = ControlLoop();
system Network0, ControlLoop1;</system>
	<queries>
		<query>
			<formula>strategy safe = control: A&lt;&gt; time &gt;= 60 and not (Network0.Bad)</formula>
			<comment></comment>
		</query>
	</queries>
</nta>
