<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC "-//Uppaal Team//DTD Flat System 1.1//EN" "http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd">
<nta>
  <declaration>broadcast chan up;</declaration>
    <template>
    <name x="5" y="5">Network</name>
    
    <declaration>clock c1, c0;</declaration>
    
    <location id="id0" x="-228" y="-640">
      <name x="-228" y="-625">OffOff</name>
      
      
      
      <urgent />
    </location>

    <location id="id1" x="-139" y="-441">
      <name x="-139" y="-426">OffOn</name>
      
      
      
      <urgent />
    </location>

    <location id="id2" x="-240" y="-34">
      <name x="-240" y="-19">OnOff</name>
      
      
      
      <urgent />
    </location>

    <location id="id3" x="-108" y="-241">
      <name x="-108" y="-226">OnOn</name>
      
      
      
      <urgent />
    </location>

    <location id="id4" x="-40" y="-34">
      <name x="-40" y="-19">Bad</name>
      
      
      
      <urgent />
    </location>
    
    <init ref="id0" />
    
    <transition>
      <source ref="id3" />
      <target ref="id1" />
      
      <label kind="guard" x="-168" y="-326">c1==10</label>
      
      
      
    </transition>

    <transition controllable="false">
      <source ref="id4" />
      <target ref="id4" />
      
      <label kind="guard" x="-124" y="-19">true</label>
      <label kind="synchronisation" x="-124" y="-4">up?</label>
      
      
    <nail x="-108" y="-51" />

    <nail x="-108" y="-17" />
    </transition>

    <transition>
      <source ref="id1" />
      <target ref="id0" />
      
      <label kind="guard" x="-218" y="-525">c0==10</label>
      
      
      
    </transition>

    <transition controllable="false">
      <source ref="id2" />
      <target ref="id3" />
      
      <label kind="guard" x="-229" y="-126">true</label>
      <label kind="synchronisation" x="-229" y="-111">up?</label>
      <label kind="assignment" x="-229" y="-96">c0=0</label>
      
    </transition>

    <transition>
      <source ref="id2" />
      <target ref="id0" />
      
      <label kind="guard" x="-348" y="-326">c1==10</label>
      
      
      
    </transition>

    <transition controllable="false">
      <source ref="id0" />
      <target ref="id2" />
      
      <label kind="guard" x="-282" y="-326">true</label>
      <label kind="synchronisation" x="-282" y="-311">up?</label>
      <label kind="assignment" x="-282" y="-296">c1=0</label>
      
    </transition>

    <transition controllable="false">
      <source ref="id0" />
      <target ref="id1" />
      
      <label kind="guard" x="-130" y="-525">true</label>
      <label kind="synchronisation" x="-130" y="-510">up?</label>
      <label kind="assignment" x="-130" y="-495">c0=0</label>
      
    <nail x="-87" y="-552" />
    </transition>

    <transition>
      <source ref="id3" />
      <target ref="id2" />
      
      <label kind="guard" x="-135" y="-126">c0==10</label>
      
      
      
    </transition>

    <transition controllable="false">
      <source ref="id1" />
      <target ref="id3" />
      
      <label kind="guard" x="-102" y="-326">true</label>
      <label kind="synchronisation" x="-102" y="-311">up?</label>
      <label kind="assignment" x="-102" y="-296">c1=0</label>
      
    </transition>

    <transition controllable="false">
      <source ref="id3" />
      <target ref="id4" />
      
      <label kind="guard" x="-58" y="-126">true</label>
      <label kind="synchronisation" x="-58" y="-111">up?</label>
      
      
    </transition>
  </template>
  <template>
    <name x="5" y="5">ControlLoop</name>
    
    <declaration>clock c;
int s;</declaration>
    
    <location id="id0" x="-282" y="-1104">
      <name x="-282" y="-1089">R2</name>
      
      
      
      <urgent />
    </location>

    <location id="id1" x="-313" y="-445">
      <name x="-313" y="-430">R3</name>
      
      
      
      <urgent />
    </location>

    <location id="id2" x="-129" y="-1762">
      <name x="-129" y="-1747">R1</name>
      
      
      
      <urgent />
    </location>

    <location id="id3" x="-360" y="-883">
      <name x="-360" y="-868">R2_s0</name>
      <label kind="invariant" x="-360" y="-853">c&lt;=4</label>
      
      
      
    </location>

    <location id="id4" x="-208" y="-225">
      <name x="-208" y="-210">R3_s0</name>
      <label kind="invariant" x="-208" y="-195">c&lt;=4</label>
      
      
      
    </location>

    <location id="id5" x="-111" y="-1542">
      <name x="-111" y="-1527">R1_s0</name>
      <label kind="invariant" x="-111" y="-1512">c&lt;=4</label>
      
      
      
    </location>

    <location id="id6" x="-258" y="-666">
      <name x="-258" y="-651">EarR2</name>
      
      
      
      <urgent />
    </location>

    <location id="id7" x="-369" y="-27">
      <name x="-369" y="-12">EarR3</name>
      
      
      
      <urgent />
    </location>

    <location id="id8" x="-285" y="-1324">
      <name x="-285" y="-1309">EarR1</name>
      
      
      
      <urgent />
    </location>
    
    <init ref="id2" />
    
    <transition>
      <source ref="id3" />
      <target ref="id2" />
      
      <label kind="guard" x="-632" y="-1309">c&gt;=0 &amp;&amp; c&lt;=4</label>
      
      <label kind="assignment" x="-632" y="-1279">c=0</label>
      
    <nail x="-565" y="-1718" />
    </transition>

    <transition>
      <source ref="id8" />
      <target ref="id2" />
      
      <label kind="guard" x="-341" y="-1527"> s==0 </label>
      
      <label kind="assignment" x="-341" y="-1497">c=0</label>
      
    </transition>

    <transition controllable="false">
      <source ref="id1" />
      <target ref="id4" />
      
      <label kind="guard" x="-324" y="-330">true</label>
      <label kind="synchronisation" x="-324" y="-315">up!</label>
      <label kind="assignment" x="-324" y="-300">s=0</label>
      
    </transition>

    <transition>
      <source ref="id3" />
      <target ref="id1" />
      
      <label kind="guard" x="-422" y="-651">c&gt;=0 &amp;&amp; c&lt;=4</label>
      
      <label kind="assignment" x="-422" y="-621">c=0</label>
      
    </transition>

    <transition>
      <source ref="id4" />
      <target ref="id1" />
      
      <label kind="guard" x="-207" y="-330">c&gt;=0 &amp;&amp; c&lt;=3</label>
      
      <label kind="assignment" x="-207" y="-300">c=0</label>
      
    <nail x="-116" y="-358" />
    </transition>

    <transition>
      <source ref="id4" />
      <target ref="id7" />
      
      <label kind="guard" x="-331" y="-101">true</label>
      
      
      
    </transition>

    <transition>
      <source ref="id7" />
      <target ref="id1" />
      
      <label kind="guard" x="-402" y="-210"> s==0 </label>
      
      <label kind="assignment" x="-402" y="-180">c=0</label>
      
    </transition>

    <transition>
      <source ref="id5" />
      <target ref="id2" />
      
      <label kind="guard" x="-191" y="-1647">c&gt;=0 &amp;&amp; c&lt;=4</label>
      
      <label kind="assignment" x="-191" y="-1617">c=0</label>
      
    </transition>

    <transition>
      <source ref="id8" />
      <target ref="id0" />
      
      <label kind="guard" x="-311" y="-1189"> s==0 </label>
      
      <label kind="assignment" x="-311" y="-1159">c=0</label>
      
    </transition>

    <transition>
      <source ref="id5" />
      <target ref="id0" />
      
      <label kind="guard" x="-164" y="-1309">c&gt;=0 &amp;&amp; c&lt;=4</label>
      
      <label kind="assignment" x="-164" y="-1279">c=0</label>
      
    </transition>

    <transition controllable="false">
      <source ref="id0" />
      <target ref="id3" />
      
      <label kind="guard" x="-447" y="-988">true</label>
      <label kind="synchronisation" x="-447" y="-973">up!</label>
      <label kind="assignment" x="-447" y="-958">s=0</label>
      
    <nail x="-440" y="-1015" />
    </transition>

    <transition>
      <source ref="id3" />
      <target ref="id6" />
      
      <label kind="guard" x="-315" y="-759">true</label>
      
      
      
    </transition>

    <transition>
      <source ref="id6" />
      <target ref="id0" />
      
      <label kind="guard" x="-269" y="-868"> s==0 </label>
      
      <label kind="assignment" x="-269" y="-838">c=0</label>
      
    </transition>

    <transition>
      <source ref="id6" />
      <target ref="id2" />
      
      <label kind="guard" x="-27" y="-1189"> s==0 </label>
      
      <label kind="assignment" x="-27" y="-1159">c=0</label>
      
    <nail x="-78" y="-1738" />
    </transition>

    <transition>
      <source ref="id7" />
      <target ref="id0" />
      
      <label kind="guard" x="-555" y="-531"> s==0 </label>
      
      <label kind="assignment" x="-555" y="-501">c=0</label>
      
    <nail x="-448" y="-1070" />
    </transition>

    <transition controllable="false">
      <source ref="id2" />
      <target ref="id5" />
      
      <label kind="guard" x="-79" y="-1647">true</label>
      <label kind="synchronisation" x="-79" y="-1632">up!</label>
      <label kind="assignment" x="-79" y="-1617">s=0</label>
      
    </transition>

    <transition>
      <source ref="id4" />
      <target ref="id0" />
      
      <label kind="guard" x="-123" y="-651">c&gt;=0 &amp;&amp; c&lt;=4</label>
      
      <label kind="assignment" x="-123" y="-621">c=0</label>
      
    <nail x="-57" y="-988" />
    </transition>

    <transition>
      <source ref="id5" />
      <target ref="id8" />
      
      <label kind="guard" x="-240" y="-1418">true</label>
      
      
      
    </transition>

    <transition>
      <source ref="id3" />
      <target ref="id0" />
      
      <label kind="guard" x="-344" y="-988">c&gt;=0 &amp;&amp; c&lt;=4</label>
      
      <label kind="assignment" x="-344" y="-958">c=0</label>
      
    </transition>

    <transition>
      <source ref="id6" />
      <target ref="id1" />
      
      <label kind="guard" x="-303" y="-531"> s==0 </label>
      
      <label kind="assignment" x="-303" y="-501">c=0</label>
      
    </transition>
  </template>

  <system>Network0 = Network();
ControlLoop1 = ControlLoop();
system Network0, ControlLoop1;</system>
</nta>