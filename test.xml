<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC "-//Uppaal Team//DTD Flat System 1.1//EN" "http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd">
<nta>
  <declaration>broadcast chan up;</declaration>
    <template>
    <name x="5" y="5">Network</name>
    
    <declaration>clock c0, c1;</declaration>
    
    <location id="id0" x="-234" y="-640">
      <name x="-234" y="-625">OffOff</name>
      
      
      
      
    </location>

    <location id="id1" x="-149" y="-441">
      <name x="-149" y="-426">OnOff</name>
      <label kind="invariant" x="-149" y="-411">c0&lt;=1</label>
      
      
      
    </location>

    <location id="id2" x="-251" y="-34">
      <name x="-251" y="-19">OffOn</name>
      <label kind="invariant" x="-251" y="-4">c1&lt;=1</label>
      
      
      
    </location>

    <location id="id3" x="-116" y="-241">
      <name x="-116" y="-226">OnOn</name>
      <label kind="invariant" x="-116" y="-211">c0&lt;=1 &amp;&amp; c1&lt;=1</label>
      
      
      
    </location>

    <location id="id4" x="-51" y="-34">
      <name x="-51" y="-19">Bad</name>
      
      
      
      
    </location>
    
    <init ref="id0" />
    
    <transition>
      <source ref="id3" />
      <target ref="id1" />
      
      <label kind="guard" x="-175" y="-326">c1==1</label>
      
      
      
    </transition>

    <transition controllable="false">
      <source ref="id2" />
      <target ref="id3" />
      
      <label kind="guard" x="-231" y="-126">true</label>
      <label kind="synchronisation" x="-231" y="-111">up?</label>
      <label kind="assignment" x="-231" y="-96">c0=0</label>
      
    </transition>

    <transition>
      <source ref="id1" />
      <target ref="id0" />
      
      <label kind="guard" x="-224" y="-525">c0==1</label>
      
      
      
    </transition>

    <transition controllable="false">
      <source ref="id3" />
      <target ref="id4" />
      
      <label kind="guard" x="-69" y="-126">true</label>
      <label kind="synchronisation" x="-69" y="-111">up?</label>
      
      
    </transition>

    <transition controllable="false">
      <source ref="id4" />
      <target ref="id4" />
      
      <label kind="guard" x="-135" y="-19">true</label>
      <label kind="synchronisation" x="-135" y="-4">up?</label>
      
      
    <nail x="-119" y="-51" />

    <nail x="-119" y="-17" />
    </transition>

    <transition>
      <source ref="id2" />
      <target ref="id0" />
      
      <label kind="guard" x="-346" y="-326">c1==1</label>
      
      
      
    </transition>

    <transition controllable="false">
      <source ref="id0" />
      <target ref="id2" />
      
      <label kind="guard" x="-288" y="-326">true</label>
      <label kind="synchronisation" x="-288" y="-311">up?</label>
      <label kind="assignment" x="-288" y="-296">c1=0</label>
      
    </transition>

    <transition controllable="false">
      <source ref="id1" />
      <target ref="id3" />
      
      <label kind="guard" x="-113" y="-326">true</label>
      <label kind="synchronisation" x="-113" y="-311">up?</label>
      <label kind="assignment" x="-113" y="-296">c1=0</label>
      
    </transition>

    <transition>
      <source ref="id3" />
      <target ref="id2" />
      
      <label kind="guard" x="-142" y="-126">c0==1</label>
      
      
      
    </transition>

    <transition controllable="false">
      <source ref="id0" />
      <target ref="id1" />
      
      <label kind="guard" x="-141" y="-525">true</label>
      <label kind="synchronisation" x="-141" y="-510">up?</label>
      <label kind="assignment" x="-141" y="-495">c0=0</label>
      
    <nail x="-98" y="-552" />
    </transition>
  </template>
  <template>
    <name x="5" y="5">ControlLoop</name>
    
    <declaration>clock c;
int s;</declaration>
    
    <location id="id0" x="-241" y="-1752">
      <name x="-241" y="-1737">R1</name>
      
      
      
      <urgent />
    </location>

    <location id="id1" x="-306" y="-444">
      <name x="-306" y="-429">R3</name>
      
      
      
      <urgent />
    </location>

    <location id="id2" x="-255" y="-1098">
      <name x="-255" y="-1083">R2</name>
      
      
      
      <urgent />
    </location>

    <location id="id3" x="-225" y="-878">
      <name x="-225" y="-863">R2_s0</name>
      <label kind="invariant" x="-225" y="-848">c&lt;=4</label>
      
      
      
    </location>

    <location id="id4" x="-319" y="-1532">
      <name x="-319" y="-1517">R1_s0</name>
      <label kind="invariant" x="-319" y="-1502">c&lt;=4</label>
      
      
      
    </location>

    <location id="id5" x="-180" y="-224">
      <name x="-180" y="-209">R3_s0</name>
      <label kind="invariant" x="-180" y="-194">c&lt;=4</label>
      
      
      
    </location>

    <location id="id6" x="-225" y="-1316">
      <name x="-225" y="-1301">EarR1</name>
      
      
      
      <urgent />
    </location>

    <location id="id7" x="-361" y="-27">
      <name x="-361" y="-12">EarR3</name>
      
      
      
      <urgent />
    </location>

    <location id="id8" x="-426" y="-662">
      <name x="-426" y="-647">EarR2</name>
      
      
      
      <urgent />
    </location>
    
    <init ref="id0" />
    
    <transition>
      <source ref="id2" />
      <target ref="id3" />
      
      <label kind="guard" x="-205" y="-982">true</label>
      
      <label kind="assignment" x="-205" y="-952">s=0</label>
      
    </transition>

    <transition controllable="false">
      <source ref="id7" />
      <target ref="id2" />
      
      <label kind="guard" x="-536" y="-528"> s==0 </label>
      <label kind="synchronisation" x="-536" y="-513">up!</label>
      <label kind="assignment" x="-536" y="-498">c=0</label>
      
    <nail x="-386" y="-1074" />
    </transition>

    <transition controllable="false">
      <source ref="id4" />
      <target ref="id2" />
      
      <label kind="guard" x="-399" y="-1301">c&gt;=1 &amp;&amp; c&lt;=4</label>
      <label kind="synchronisation" x="-399" y="-1286">up!</label>
      <label kind="assignment" x="-399" y="-1271">c=0</label>
      
    </transition>

    <transition controllable="false">
      <source ref="id8" />
      <target ref="id2" />
      
      <label kind="guard" x="-453" y="-863"> s==0 </label>
      <label kind="synchronisation" x="-453" y="-848">up!</label>
      <label kind="assignment" x="-453" y="-833">c=0</label>
      
    </transition>

    <transition>
      <source ref="id1" />
      <target ref="id5" />
      
      <label kind="guard" x="-319" y="-328">true</label>
      
      <label kind="assignment" x="-319" y="-298">s=0</label>
      
    </transition>

    <transition>
      <source ref="id3" />
      <target ref="id8" />
      
      <label kind="guard" x="-373" y="-755">true</label>
      
      
      
    </transition>

    <transition>
      <source ref="id5" />
      <target ref="id7" />
      
      <label kind="guard" x="-324" y="-101">true</label>
      
      
      
    </transition>

    <transition controllable="false">
      <source ref="id8" />
      <target ref="id1" />
      
      <label kind="guard" x="-411" y="-528"> s==0 </label>
      <label kind="synchronisation" x="-411" y="-513">up!</label>
      <label kind="assignment" x="-411" y="-498">c=0</label>
      
    </transition>

    <transition controllable="false">
      <source ref="id7" />
      <target ref="id1" />
      
      <label kind="guard" x="-398" y="-209"> s==0 </label>
      <label kind="synchronisation" x="-398" y="-194">up!</label>
      <label kind="assignment" x="-398" y="-179">c=0</label>
      
    </transition>

    <transition controllable="false">
      <source ref="id4" />
      <target ref="id0" />
      
      <label kind="guard" x="-303" y="-1636">c&gt;=1 &amp;&amp; c&lt;=4</label>
      <label kind="synchronisation" x="-303" y="-1621">up!</label>
      <label kind="assignment" x="-303" y="-1606">c=0</label>
      
    </transition>

    <transition controllable="false">
      <source ref="id3" />
      <target ref="id1" />
      
      <label kind="guard" x="-305" y="-647">c&gt;=1 &amp;&amp; c&lt;=4</label>
      <label kind="synchronisation" x="-305" y="-632">up!</label>
      <label kind="assignment" x="-305" y="-617">c=0</label>
      
    </transition>

    <transition controllable="false">
      <source ref="id5" />
      <target ref="id2" />
      
      <label kind="guard" x="-104" y="-647">c&gt;=1 &amp;&amp; c&lt;=4</label>
      <label kind="synchronisation" x="-104" y="-632">up!</label>
      <label kind="assignment" x="-104" y="-617">c=0</label>
      
    <nail x="-37" y="-982" />
    </transition>

    <transition controllable="false">
      <source ref="id5" />
      <target ref="id1" />
      
      <label kind="guard" x="-200" y="-328">c&gt;=1 &amp;&amp; c&lt;=2</label>
      <label kind="synchronisation" x="-200" y="-313">up!</label>
      <label kind="assignment" x="-200" y="-298">c=0</label>
      
    <nail x="-163" y="-430" />
    </transition>

    <transition controllable="false">
      <source ref="id6" />
      <target ref="id0" />
      
      <label kind="guard" x="-233" y="-1517"> s==0 </label>
      <label kind="synchronisation" x="-233" y="-1502">up!</label>
      <label kind="assignment" x="-233" y="-1487">c=0</label>
      
    </transition>

    <transition controllable="false">
      <source ref="id6" />
      <target ref="id2" />
      
      <label kind="guard" x="-270" y="-1182"> s==0 </label>
      <label kind="synchronisation" x="-270" y="-1167">up!</label>
      <label kind="assignment" x="-270" y="-1152">c=0</label>
      
    </transition>

    <transition>
      <source ref="id4" />
      <target ref="id6" />
      
      <label kind="guard" x="-282" y="-1409">true</label>
      
      
      
    </transition>

    <transition controllable="false">
      <source ref="id8" />
      <target ref="id0" />
      
      <label kind="guard" x="-593" y="-1182"> s==0 </label>
      <label kind="synchronisation" x="-593" y="-1167">up!</label>
      <label kind="assignment" x="-593" y="-1152">c=0</label>
      
    <nail x="-384" y="-1727" />
    </transition>

    <transition controllable="false">
      <source ref="id3" />
      <target ref="id0" />
      
      <label kind="guard" x="-66" y="-1301">c&gt;=1 &amp;&amp; c&lt;=4</label>
      <label kind="synchronisation" x="-66" y="-1286">up!</label>
      <label kind="assignment" x="-66" y="-1271">c=0</label>
      
    <nail x="0" y="-1643" />
    </transition>

    <transition controllable="false">
      <source ref="id3" />
      <target ref="id2" />
      
      <label kind="guard" x="-314" y="-982">c&gt;=1 &amp;&amp; c&lt;=4</label>
      <label kind="synchronisation" x="-314" y="-967">up!</label>
      <label kind="assignment" x="-314" y="-952">c=0</label>
      
    </transition>

    <transition>
      <source ref="id0" />
      <target ref="id4" />
      
      <label kind="guard" x="-408" y="-1636">true</label>
      
      <label kind="assignment" x="-408" y="-1606">s=0</label>
      
    <nail x="-399" y="-1663" />
    </transition>
  </template>

  <system>Network0 = Network();
ControlLoop1 = ControlLoop();
system Network0, ControlLoop1;</system>
</nta>